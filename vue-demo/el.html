<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css" />
  </head>
  <body>
    <div id="app">
      <el-tree ref="tree" :data="menus" show-checkbox node-key="id" :props="defaultProps"></el-tree>

      <el-button @click="setDefault">设置默认</el-button>
    </div>
  </body>
  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- import JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: function () {
        return {
          visible: false,
          menus: [
            {
              label: '一级 1',
              id: 1,
              children: [
                {
                  label: '二级 1-1',
                  id: 2,
                  children: [
                    {
                      label: '三级 1-1-1',
                      id: 3,
                    },
                    {
                      label: '三级 1-1-1',
                      id: 14,
                    },
                  ],
                },
              ],
            },
            {
              label: '一级 2',
              id: 4,
              children: [
                {
                  label: '二级 2-1',
                  id: 5,
                  children: [
                    {
                      label: '三级 2-1-1',
                      id: 6,
                    },
                  ],
                },
                {
                  label: '二级 2-2',
                  id: 7,
                  children: [
                    {
                      label: '三级 2-2-1',
                      id: 8,
                    },
                  ],
                },
              ],
            },
            {
              label: '一级 3',
              id: 9,
              children: [
                {
                  label: '二级 3-1',
                  id: 10,
                  children: [
                    {
                      label: '三级 3-1-1',
                      id: 11,
                    },
                  ],
                },
                {
                  label: '二级 3-2',
                  id: 12,
                  children: [
                    {
                      label: '三级 3-2-1',
                      id: 13,
                    },
                  ],
                },
              ],
            },
          ],
          defaultProps: {
            children: 'children',
            label: 'label',
            id: 'id',
          },
        };
      },
      methods: {
        setDefault() {
          const defaultMenusIds = [3, 13];
          console.log(`设置的 ${defaultMenusIds.join(',')}`);
          this.$refs.tree.setCheckedKeys(defaultMenusIds);
          const ids = this.$refs.tree.getCheckedKeys(true);
          console.log(ids);
        },
      },
    });
  </script>
</html>
