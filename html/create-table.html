<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Create table</title>
    <style>
      .table {
        border-collapse: collapse;
        border-top: 1px solid #eee;
        border-left: 1px solid #eee;
      }
      .table th,
      .table td {
        padding: 5px 8px;
        border-right: 1px solid #eee;
        border-bottom: 1px solid #eee;
      }
    </style>
  </head>
  <body>
    <script>
      const arr = [
        {
          url: 'monitoring/organizations/56c696a5-06d4-4fd4-8a9d-605274a8039b/monitor/heatmap',
          ObservationTime: '2018-10-18T02:53:10.806Z',
        },
      ];
      console.table(arr);
      const table = buildTable(arr);
      const div = document.createElement('div');
      div.innerHTML = table;
      document.body.appendChild(div);
      function buildTable(arr) {
        let ths = '';
        let rowOne = arr[0];
        for (let property in rowOne) {
          ths += `<th>${property}</th>`;
        }
        let thead = `<thead><tr><th>Index</th>${ths}</tr></thead>`;
        let trs = '';
        arr.forEach((row, index) => {
          let tds = '';
          for (let td in row) {
            tds += `<td>${row[td]}</td>`;
          }
          trs += `<tr><td>${index}</td>${tds}</tr>`;
        });
        let tbody = `<tbody>${trs}</tbody>`;
        let table = `<table class="table">${thead}${tbody}</table>`;
        return table;
      }
    </script>
  </body>
</html>
