class App{constructor(e,t,i){this.scene=App.createScene().add(t).add(App.createAmbientLight()).add(App.createDirectionalLight()),this.camera=App.createCamera(),this.renderer=App.createRenderer(e),this.mixer=new AnimationMixer(t,i),this.update()}static createScene(){const e=new THREE.Scene;return e.background=new THREE.Color(3368085),e}static createAmbientLight(){return new THREE.AmbientLight(16777215,1)}static createDirectionalLight(){let e=new THREE.DirectionalLight(16777215,1);return e.position.set(0,400,350),e}static createCamera(){let e=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3);return e.position.x=0,e.position.y=-3,e.position.z=10,e}static createRenderer(e){let t=new THREE.WebGLRenderer({canvas:e});return t.setPixelRatio(window.devicePixelRatio),t.toneMapping=THREE.ReinhardToneMapping,t.toneMappingExposure=2,t}update(){this.resize(),this.mixer.update(),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame((()=>{this.update()}))}resize(){let e=this.renderer.getSize(new THREE.Vector2),t=new THREE.Vector2(window.innerWidth,window.innerHeight);e.equals(t)||(this.renderer.setSize(t.x,t.y,!1),this.camera.aspect=t.x/t.y,this.camera.updateProjectionMatrix())}}class AnimationMixer{constructor(e,t){this.clock=new THREE.Clock,this.mixer=new THREE.AnimationMixer(e),this.animations=t}play(e){let t=this.animations.find((t=>t.name===e));t&&(this.mixer.stopAllAction(),this.mixer.clipAction(t).play(),this.clip=e)}update(){let e=this.clock.getDelta();this.mixer.update(e)}}let loader=new THREE.GLTFLoader;loader.load("https://pcdeng.github.io/visualization/models/multi.glb",(function(e){let t=e.scene;t.scale.set(10,10,10),t.position.y=-6;let i=document.getElementById("appCanvas"),n=new App(i,t,e.animations);n.mixer.play("CatWalk");const r=["CatWalk","Samba","Belly"];function a(e){let t=n.mixer.clip;"next"===e?t=c(((e,t)=>(e+1)%t)):"prev"===e&&(t=c(((e,t)=>((e=(e-1)%t)<0&&(e=t-1),e)))),n.mixer.play(t)}function c(e){let t=r.indexOf(n.mixer.clip);return t=e(t,r.length),r[t]}document.querySelector(".prev").addEventListener("click",(()=>{a("prev")})),document.querySelector(".next").addEventListener("click",(()=>{a("next")}))}),void 0,(e=>{console.error(e)}));